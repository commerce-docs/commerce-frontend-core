"use strict";(self.webpackChunkcommerce_frontend_core=self.webpackChunkcommerce_frontend_core||[]).push([[5427],{16297:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return a},default:function(){return p}});var o=n(58168),i=n(80045),d=(n(88763),n(15680)),s=n(83407);const r=["components"],a={},l={_frontmatter:a},m=s.A;function p(e){let{components:t}=e,n=(0,i.A)(e,r);return(0,d.mdx)(m,(0,o.A)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"use-modules-to-override-styles"},"Use Modules to override styles"),(0,d.mdx)("p",null,"When you create a Page Builder module by either extending a Page Builder content type or creating a custom content type, you should override Page Builder's styles from within the module, using the Page Builder selector override pattern: ",(0,d.mdx)("inlineCode",{parentName:"p"},"#html-body")," + ",(0,d.mdx)("inlineCode",{parentName:"p"},"[content-type attribute]")," + ",(0,d.mdx)("inlineCode",{parentName:"p"},"any additional selector"),", as shown here:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-scss"},"#html-body [data-content-type='my-custom'].my-class // Specificity = 120.\n")),(0,d.mdx)("p",null,(0,d.mdx)("img",{parentName:"p",src:"/commerce-frontend-core/assets/73796dfedd64c648119e6518dcbb84f6/pagebuilder-style-override-pattern-class.svg",alt:"CSS selector override pattern"})),(0,d.mdx)("h2",{id:"the-great-benefit"},"The great benefit"),(0,d.mdx)("p",null,"Using this selector pattern consistently in your modules has one great benefit: You can reuse all your module's CSS style selectors in your themes, where you can change style rules to override your modules! That's the way it should work, right? Theme styles should override module styles. But you must use the override pattern consistently within Page Builder, or it won't work."),(0,d.mdx)("p",null,"Adopting this pattern makes it work because Commerce adds theme styles ",(0,d.mdx)("em",{parentName:"p"},"after")," module styles in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"styles.css")," outputs. And the browser does the rest. The browser's cascading stylesheet rules apply the ",(0,d.mdx)("em",{parentName:"p"},"last")," same-specificity CSS selectors to page content. So your theme style selectors, added last in the stylesheets, will always override the same selectors in your modules."),(0,d.mdx)("p",null,'The cascade effect makes your module styles act as "default" styles. And the same selectors in your themes provide the theming overrides.'),(0,d.mdx)("h2",{id:"steps-for-overriding-admin-and-frontend-styles"},"Steps for overriding Admin and frontend styles"),(0,d.mdx)("p",null,"The steps for overriding Page Builder styles in the Admin and on the storefront are the same. The following diagram shows the numbered steps shared between the development ",(0,d.mdx)("inlineCode",{parentName:"p"},"areas")," and module types."),(0,d.mdx)("p",null,(0,d.mdx)("img",{parentName:"p",src:"/commerce-frontend-core/assets/59fc599461ebee79fd45387e42f94801/pagebuilder-admin-frontend-module-files.svg",alt:"Admin styles in modules"})),(0,d.mdx)("p",null,"The steps for overriding styles in your modules are similar to those introduced for ",(0,d.mdx)("a",{parentName:"p",href:"use-themes-to-override-styles.md"},"overriding Admin themes"),"."),(0,d.mdx)("h3",{id:"step-1-create-adminhtml-and-frontend-directories"},"Step 1: Create ",(0,d.mdx)("inlineCode",{parentName:"h3"},"adminhtml")," and ",(0,d.mdx)("inlineCode",{parentName:"h3"},"frontend")," directories"),(0,d.mdx)("p",null,"In modules, the only difference between overriding Page Builder Admin styles and storefront styles is the required location of your ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files. Adding your ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"adminhtml")," directory overrides Page Builder's matching Admin styles. Adding them to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"frontend")," directory overrides Page Builder's matching storefront styles. All the other guidelines for each ",(0,d.mdx)("inlineCode",{parentName:"p"},"area")," are the same."),(0,d.mdx)("h3",{id:"step-2-add-content-type-directories"},"Step 2: Add content type directories"),(0,d.mdx)("p",null,"To help organize your ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files, we recommend using directory names that match the content-type names you want to override. This keeps you consistent with Page Builder module conventions. For example, in our ",(0,d.mdx)("inlineCode",{parentName:"p"},"Heading")," extension module, we added a ",(0,d.mdx)("inlineCode",{parentName:"p"},"heading")," directory. And for our custom content type module, we added a ",(0,d.mdx)("inlineCode",{parentName:"p"},"custom-content-type")," directory (assuming that's the name of our custom content type). These subdirectories (including ",(0,d.mdx)("inlineCode",{parentName:"p"},"content-type"),") are not required. They simply help organize your stylesheets as your modules grow."),(0,d.mdx)("h3",{id:"step-3-add-less-files-and-styles"},"Step 3: Add ",(0,d.mdx)("inlineCode",{parentName:"h3"},".less")," files and styles."),(0,d.mdx)("p",null,"We also recommend naming your ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files to match the content-type appearances you are overriding. Again, this is the Page Builder convention. Our example modules each have only one appearance called ",(0,d.mdx)("inlineCode",{parentName:"p"},"default"),". So we added a ",(0,d.mdx)("inlineCode",{parentName:"p"},"_default.less")," file to each. However, if we were extending Page Builder's ",(0,d.mdx)("inlineCode",{parentName:"p"},"Row"),", we add three ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files named after each ",(0,d.mdx)("inlineCode",{parentName:"p"},"Row")," appearance. This naming convention helps you find your overriding styles when you start extending or create content types with multiple appearances."),(0,d.mdx)("p",null,"Here's an example style that uses the CSS selector pattern to override Page Builder's ",(0,d.mdx)("inlineCode",{parentName:"p"},"h1")," heading tags:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-scss"},'// CSS specificity = 111, just enough to override Page Builder\'s specificity of 111.\n#html-body h1[data-content-type="heading"] {\n    font-size: 40px;\n    line-height: 61px;\n    font-weight: 700;\n    margin-bottom: 0;\n}\n')),(0,d.mdx)("p",null,"To ensure this style overrides the ",(0,d.mdx)("inlineCode",{parentName:"p"},"h1")," element of the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Heading")," content type, both within the Admin and on the storefront, you need to add it to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"_default.less")," files in both the ",(0,d.mdx)("inlineCode",{parentName:"p"},"adminhtml")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"frontend")," areas of your module."),(0,d.mdx)("h3",{id:"step-4-add-_importless-files"},"Step 4: Add ",(0,d.mdx)("inlineCode",{parentName:"h3"},"_import.less")," files"),(0,d.mdx)("p",null,"As another organizing practice, we recommend adding ",(0,d.mdx)("inlineCode",{parentName:"p"},"_import.less")," files to each content type directory. These files should only contain ",(0,d.mdx)("inlineCode",{parentName:"p"},"@import")," statements for all other ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," files in the directory. When there's only one ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," file in the directory (as with our example), this practice feels like overkill. But it's a good habit to create as your modules become more complex. Using import files like this makes it easy to import all your files into the required ",(0,d.mdx)("inlineCode",{parentName:"p"},"_module.less")," file (Step 5). In our examples, the ",(0,d.mdx)("inlineCode",{parentName:"p"},"_import.less")," file often contains only one import:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-scss"},"@import '_default.less';\n")),(0,d.mdx)("h3",{id:"step-5-add-a-_moduleless-file"},"Step 5: Add a ",(0,d.mdx)("inlineCode",{parentName:"h3"},"_module.less")," file"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"_module.less")," file is the only ",(0,d.mdx)("strong",{parentName:"p"},"required")," ",(0,d.mdx)("inlineCode",{parentName:"p"},".less")," file you need. It must be added directly to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"adminhtml/web/css/source")," directory. Commerce uses this file to add all your Admin styles to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"pub/static/adminhtml")," output, where they will override Page Builder's default content-type styles. As with the ",(0,d.mdx)("inlineCode",{parentName:"p"},"_import.less")," files, it's a best practice to add only ",(0,d.mdx)("inlineCode",{parentName:"p"},"@import")," statements to your ",(0,d.mdx)("inlineCode",{parentName:"p"},"_module.less")," file. Technically, you could put all your CSS directly in ",(0,d.mdx)("inlineCode",{parentName:"p"},"_module.less"),", but that could quickly become a mess. Using best practices, our ",(0,d.mdx)("inlineCode",{parentName:"p"},"_module.less")," files in these examples would look like this:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-scss"},"// Extension module\n@import 'content-type/heading/_import.less';\n\n// Custom module\n@import 'content-type/custom-content-type/_import.less';\n")),(0,d.mdx)("h2",{id:"summary"},"Summary"),(0,d.mdx)("p",null,"The key takeaway is this: Use Page Builder's CSS selector override pattern for all your Page Builder styles. Understand it, memorize it, and put it to use. It is the foundation for successful styling within Page Builder:"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-terminal"},"#html-body  +  [content-type attribute]  +  any additional selector\n")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-page-builder-styles-use-modules-to-override-styles-md-5384a4e259be00df819c.js.map