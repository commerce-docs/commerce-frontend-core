"use strict";(self.webpackChunkcommerce_frontend_core=self.webpackChunkcommerce_frontend_core||[]).push([[2695],{583:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return l}});var n=a(58168),o=a(80045),i=(a(88763),a(15680)),r=a(83407);const m=["components"],s={},c={_frontmatter:s},p=r.A;function l(e){let{components:t}=e,a=(0,o.A)(e,m);return(0,i.mdx)(p,(0,n.A)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"compile-less-with-grunt"},"Compile LESS with Grunt"),(0,i.mdx)("p",null,"The topic describes how to use the ",(0,i.mdx)("a",{parentName:"p",href:"http://gruntjs.com/"},"Grunt JavaScript task runner")," to compile ",(0,i.mdx)("inlineCode",{parentName:"p"},".less")," files."),(0,i.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Make sure that you ",(0,i.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/set-mode.html"},"set")," your application to the developer or default ",(0,i.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/setup/application-modes.html"},"mode"),". The default mode sets the Less compilation mode to Server-side Less compilation."),(0,i.mdx)("li",{parentName:"ul"},"Install and configure ",(0,i.mdx)("a",{parentName:"li",href:"../tools/grunt.md"},"Grunt"),".")),(0,i.mdx)("h2",{id:"track-changes-using-grunt"},"Track changes using Grunt"),(0,i.mdx)("p",null,"The following shows which Grunt tasks to use for debugging:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"After you switch the compilation mode from client-side to server-side, run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"exec")," command."),(0,i.mdx)("li",{parentName:"ul"},"After you customize the content of any ",(0,i.mdx)("inlineCode",{parentName:"li"},".less")," file, except the root source files, run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"less")," task and reload the page."),(0,i.mdx)("li",{parentName:"ul"},"After you ",(0,i.mdx)("a",{parentName:"li",href:"../css/preprocess.md#clean-static-view-files"},"customize the root source files or move the files included to the root files"),", run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"exec")," command and reload the page."),(0,i.mdx)("li",{parentName:"ul"},"After you run ",(0,i.mdx)("inlineCode",{parentName:"li"},"php bin/magento setup:upgrade"),", run ",(0,i.mdx)("inlineCode",{parentName:"li"},"exec")," command."),(0,i.mdx)("li",{parentName:"ul"},"After you run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"exec")," command, run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"clear")," command to ",(0,i.mdx)("inlineCode",{parentName:"li"},"clear")," the cache, then run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"watch")," command. Running the commands in this order will ensure that any custom jQuery attributes like product sliders, banners, etc are loaded correctly.")),(0,i.mdx)("p",null,"If you have LiveReload installed, run the ",(0,i.mdx)("inlineCode",{parentName:"p"},"grunt watch")," command, and the flow is even simpler:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"After you customize the content of any ",(0,i.mdx)("inlineCode",{parentName:"li"},".less")," file, changes are applied and the page reloads automatically. No additional changes"),(0,i.mdx)("li",{parentName:"ul"},"After you ",(0,i.mdx)("a",{parentName:"li",href:"../css/preprocess.md#clean-static-view-files"},"customize the root source files or move the files included to the root files"),", run the ",(0,i.mdx)("inlineCode",{parentName:"li"},"clean")," and ",(0,i.mdx)("inlineCode",{parentName:"li"},"exec")," commands, which reloads the page in the browser.")),(0,i.mdx)("h2",{id:"css-source-maps"},"CSS source maps"),(0,i.mdx)("p",null,"When using Grunt for styles preprocessing, you can enable the CSS source maps generation in your browser. It will make the theme styles debugging easier."),(0,i.mdx)("p",null,"For each theme, the application compiles all theme ",(0,i.mdx)("inlineCode",{parentName:"p"},".less")," files into two CSS files: ",(0,i.mdx)("inlineCode",{parentName:"p"},"styles-m.css")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"styles-l.css"),". So when you debug a theme, your browser only sees ",(0,i.mdx)("inlineCode",{parentName:"p"},"styles-m.css")," and it might be difficult to define which ",(0,i.mdx)("inlineCode",{parentName:"p"},".css")," or ",(0,i.mdx)("inlineCode",{parentName:"p"},".less")," file requires corrections. For example:"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"987px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.37499999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/5530d/no-map.webp 320w","/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/0c8fb/no-map.webp 640w","/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/2bb8d/no-map.webp 987w"],sizes:"(max-width: 987px) 100vw, 987px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/dd4a7/no-map.png 320w","/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/0f09e/no-map.png 640w","/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/b2a21/no-map.png 987w"],sizes:"(max-width: 987px) 100vw, 987px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/7861ec23a3243ae753d4e37fef8b0a97/b2a21/no-map.png",alt:"node declaration autocomplete",title:"node declaration autocomplete",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"CSS source maps solve this issue. They help to find the ",(0,i.mdx)("inlineCode",{parentName:"p"},".less")," file, where the style is specified. For example:"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"969px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"55.625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/5530d/with-map.webp 320w","/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/0c8fb/with-map.webp 640w","/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/6d803/with-map.webp 969w"],sizes:"(max-width: 969px) 100vw, 969px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/dd4a7/with-map.png 320w","/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/0f09e/with-map.png 640w","/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/60b4c/with-map.png 969w"],sizes:"(max-width: 969px) 100vw, 969px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/d8842e0f4870692281e6b63c3fde2341/60b4c/with-map.png",alt:"node declaration autocomplete",title:"node declaration autocomplete",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"CSS source maps are generated automatically when you compile CSS for your theme using the ",(0,i.mdx)("inlineCode",{parentName:"p"},"grunt less: <theme>")," command. To use them, you need to enable the display of source maps in your browser. For example, in Chrome, you would open the Developer Tools, go to the ",(0,i.mdx)("strong",{parentName:"p"},"Settings")," panel, select ",(0,i.mdx)("strong",{parentName:"p"},"Preferences"),", then check the ",(0,i.mdx)("strong",{parentName:"p"},"Enable CSS source maps")," checkbox."),(0,i.mdx)("p",null,"The application has a base set of variables that define commonly used aspects of a theme; such as colors, fonts, style of page titles, and so on."),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"<magento-root>/lib/web/css/source/lib/variables")," directory contains LESS files that define values assigned to variables for many of the common elements."),(0,i.mdx)("p",null,"To change or override any of these variables, simply create a file in ",(0,i.mdx)("inlineCode",{parentName:"p"},"<theme-dir>/web/css/source/_theme.less")," For example:"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"969px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"55.625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/5530d/lib-map.webp 320w","/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/0c8fb/lib-map.webp 640w","/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/6d803/lib-map.webp 969w"],sizes:"(max-width: 969px) 100vw, 969px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/dd4a7/lib-map.png 320w","/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/0f09e/lib-map.png 640w","/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/60b4c/lib-map.png 969w"],sizes:"(max-width: 969px) 100vw, 969px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-frontend-core/static/b4856873cfe0f8fcc245c12712067edf/60b4c/lib-map.png",alt:"node declaration autocomplete",title:"node declaration autocomplete",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-css"},"@navigation__background: @secondary__color__light;\n@font-family__sans-serif: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n")))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guide-css-debug-md-c650ec6d0aae753cc69c.js.map