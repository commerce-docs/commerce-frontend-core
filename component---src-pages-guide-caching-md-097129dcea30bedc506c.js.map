{"version":3,"file":"component---src-pages-guide-caching-md-097129dcea30bedc506c.js","mappings":"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","sources":["webpack://commerce-frontend-core/./src/pages/guide/caching.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/commerce-frontend-core/commerce-frontend-core/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"page-caching\"\n    }}>{`Page caching`}</h1>\n    <p>{`Caching is one of the most effective ways to improve website performance. Generally speaking, there are two methods of caching content:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Client-side (browser)`}</li>\n      <li parentName=\"ul\">{`Server-side`}</li>\n    </ul>\n    <p>{`Retrieving stored (cached) content from a previous request for the same client instead of requesting files from your server every time someone visits your site is a more efficient use of network bandwidth.`}</p>\n    <p>{`The Adobe Commerce and Magento Open Source page cache library contains a simple PHP reverse proxy that enables full page caching out of the box. A reverse proxy acts as an intermediary between visitors and your application and can reduce the load on your server.`}</p>\n    <p>{`We recommend using `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/varnish/config-varnish.html\"\n      }}>{`Varnish`}</a>{`, but you can use the default caching mechanism instead, which stores cache files in any of the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`File system (You don't need to do anything to use file-based caching.)`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/commerce/php/development/cache/partial/database-caching/\"\n        }}>{`Database`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cache/redis/redis-pg-cache.html\"\n        }}>{`Redis`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"cacheable-and-uncacheable-pages\"\n    }}>{`Cacheable and uncacheable pages`}</h2>\n    <p><em parentName=\"p\">{`Cacheable`}</em>{` and `}<em parentName=\"p\">{`uncacheable`}</em>{` are terms we use to indicate whether or not a page should be cached at all. (By default, all pages are cacheable except the checkout pages.) If any block in a layout is designated as uncacheable, the entire page is uncacheable.`}</p>\n    <p>{`To create an uncacheable page, mark any block on that page as uncacheable in the layout using `}<inlineCode parentName=\"p\">{`cacheable=\"false\"`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-xml\"\n      }}>{`<block class=\"Magento\\\\Customer\\\\Block\\\\Form\\\\Edit\" name=\"customer_edit\" template=\"Magento_Customer::form/edit.phtml\" cacheable=\"false\">\n    <container name=\"form.additional.info\" as=\"form_additional_info\"/>\n</block>\n`}</code></pre>\n    <p>{`Examples of uncacheable pages include the compare products, cart, checkout pages, and so on.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://github.com/magento/magento2/blob/2.4/app/code/Magento/Paypal/view/frontend/layout/paypal_payflow_returnurl.xml\"\n      }}>{`Example`}</a></p>\n    <InlineAlert variant=\"warning\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Do not configure content pages (i.e., catalog, product, and CMS pages) to be uncacheable. Doing so has an adverse affect on performance.`}</p>\n    <h2 {...{\n      \"id\": \"public-and-private-content\"\n    }}>{`Public and private content`}</h2>\n    <p>{`Reverse proxies serve \"public\" or shared content to more than one user. However, most Adobe Commerce and Magento Open Source websites generate dynamic and personalized \"private\" content that should only be served to one user, which presents unique caching challenges. To address these challenges, the application can distinguish between two types of content:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\"><a parentName=\"strong\" {...{\n              \"href\": \"https://developer.adobe.com/commerce/php/development/cache/page/public-content/\"\n            }}>{`Public`}</a></strong>{` - Public content is stored server side in your reverse proxy cache storage (e.g., file system, database, Redis, or Varnish) and is available to multiple customers. Examples of public content include header, footer, and category listing.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><strong parentName=\"p\"><a parentName=\"strong\" {...{\n              \"href\": \"https://developer.adobe.com/commerce/php/development/cache/page/private-content/\"\n            }}>{`Private`}</a></strong>{` - Private content is stored client side (e.g., browser) and is specific to an individual customer. Examples of private content include wishlist, shopping cart, customer name, and address. You should limit stored private content to a small portion of the page's total content.`}</p>\n      </li>\n    </ul>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`Only HTTP `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3\"\n      }}>{`GET`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4\"\n      }}>{`HEAD`}</a>{` requests are cacheable. For more information about caching, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html\"\n      }}>{`RFC-2616 section 13`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"cache-types\"\n    }}>{`Cache types`}</h2>\n    <p>{`The following cache types mostly have impact on frontend development process:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Cache type \"friendly\" name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Cache type code name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Layout`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`layout`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Compiled page layouts (that is, the layout components from all components). Clean or flush this cache type after modifying layout files.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Block HTML output`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`block_html`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`HTML page fragments per block. Clean or flush this cache type after modifying the view layer.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Page cache`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`full_page`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Generated HTML pages. If necessary, the application cleans up this cache automatically, but third-party developers can put any data in any segment of the cache. Clean or flush this cache type after modifying code level that affects HTML output. It's recommended to keep this cache enabled because caching HTML improves performance significantly.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Translations`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`translate`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Merged translations from all modules.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <InlineAlert variant=\"help\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`The full list of cache types can be found in the `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/manage-cache.html\"\n      }}>{`Overview of cache types`}</a>{` topic.`}</p>\n    <h2 {...{\n      \"id\": \"clean-cache\"\n    }}>{`Clean cache`}</h2>\n    <p>{`To clean cache, run`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`bin/magento cache:clean <type> <type>\n`}</code></pre>\n    <p>{`To view the status of the cache, run:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`bin/magento cache:status\n`}</code></pre>\n    <p>{`For more details about working with cache, see `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/manage-cache.html\"\n      }}>{`Manage the cache`}</a></p>\n    <h2 {...{\n      \"id\": \"clean-static-files-cache\"\n    }}>{`Clean static files cache`}</h2>\n    <p>{`You can clean generated static view files in any of the following ways:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`In the Admin. Go to `}<strong parentName=\"p\">{`System`}</strong>{` > `}<strong parentName=\"p\">{`Tools`}</strong>{` > `}<strong parentName=\"p\">{`Cache Management`}</strong>{` and click `}<strong parentName=\"p\">{`Flush Static Files Cache`}</strong>{`.`}</p>\n        <p parentName=\"li\">{` {:.bs-callout-info}\nThis option is only available in `}<inlineCode parentName=\"p\">{`developer`}</inlineCode>{` mode. Refer to the `}<a parentName=\"p\" {...{\n            \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/static-view/static-view-file-deployment.html\"\n          }}>{`static view files overview`}</a>{` for more information. For more details about the application modes, see `}<a parentName=\"p\" {...{\n            \"href\": \"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/cli/set-mode.html\"\n          }}>{`application modes`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Manually by clearing the `}<inlineCode parentName=\"p\">{`pub/static`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`var/view_preprocessed`}</inlineCode>{` directories and subdirectories `}<em parentName=\"p\">{`except`}</em>{` for `}<inlineCode parentName=\"p\">{`pub/static/.htaccess`}</inlineCode>{`.`}</p>\n        <p parentName=\"li\">{`To clear the `}<inlineCode parentName=\"p\">{`pub/static`}</inlineCode>{` directory of all files except `}<inlineCode parentName=\"p\">{`.htaccess`}</inlineCode>{` (which is a hidden file), enter the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`rm -r pub/static/*/*\n`}</code></pre>\n        <p parentName=\"li\">{`To clear the `}<inlineCode parentName=\"p\">{`var/view_preprocessed`}</inlineCode>{`, enter the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-bash\"\n          }}>{`rm -r var/view_preprocessed/*\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Several commands support an optional parameter `}<inlineCode parentName=\"p\">{`--clear-static-content`}</inlineCode>{`, which cleans generated static view files:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/install/cli/install-cli-subcommands-enable.html\"\n            }}><inlineCode parentName=\"a\">{`magento module:enable`}</inlineCode>{` and `}<inlineCode parentName=\"a\">{`magento module:disable`}</inlineCode></a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/install/cli/install-cli-theme-uninstall.html\"\n            }}><inlineCode parentName=\"a\">{`magento theme:uninstall`}</inlineCode></a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"https://devdocs.magento.com/guides/v2.4/install-gde/install/cli/install-cli-uninstall-mods.html\"\n            }}><inlineCode parentName=\"a\">{`magento module:uninstall`}</inlineCode></a></li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"clean-static-files\"\n    }}>{`Clean static files`}</h2>\n    <p>{`Besides the cached files, in theme development process developers also deal with other saved files - static view files that are preprocessed and published to the `}<inlineCode parentName=\"p\">{`var/view_preprocessed`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`pub/static`}</inlineCode>{` directories correspondingly. In most cases when working on a custom theme, for example, if you are only working on styles, you do not need to clean cache, but need to clean the previously preprocessed and published static view files. To clean them, run  `}<inlineCode parentName=\"p\">{`grunt clean <theme>`}</inlineCode>{` or manually clear the `}<inlineCode parentName=\"p\">{`pub/static`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`var/view_preprocessed`}</inlineCode>{` directories.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","InlineAlert","name","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}